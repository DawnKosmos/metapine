// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.15.0
// source: 04_minute_manger.sql

package gen

import (
	"context"
	"database/sql"

	"github.com/jackc/pgtype"
)

const createMinuteManager = `-- name: CreateMinuteManager :exec
INSERT INTO
    minute_manager(index_id, tableName, dataArr)
VALUES ($1,$2,$3)
`

type CreateMinuteManagerParams struct {
	IndexID   sql.NullInt32
	Tablename string
	Dataarr   pgtype.JSON
}

func (q *Queries) CreateMinuteManager(ctx context.Context, arg CreateMinuteManagerParams) error {
	_, err := q.db.Exec(ctx, createMinuteManager, arg.IndexID, arg.Tablename, arg.Dataarr)
	return err
}

const readMinuteManager = `-- name: ReadMinuteManager :one
SELECT tableName, dataArr FROM minute_manager
WHERE index_id = $1
`

type ReadMinuteManagerRow struct {
	Tablename string
	Dataarr   pgtype.JSON
}

func (q *Queries) ReadMinuteManager(ctx context.Context, indexID sql.NullInt32) (ReadMinuteManagerRow, error) {
	row := q.db.QueryRow(ctx, readMinuteManager, indexID)
	var i ReadMinuteManagerRow
	err := row.Scan(&i.Tablename, &i.Dataarr)
	return i, err
}

const updateMinuteManager = `-- name: UpdateMinuteManager :exec
UPDATE minute_manager
SET dataArr = $1 WHERE index_id = $2
`

type UpdateMinuteManagerParams struct {
	Dataarr pgtype.JSON
	IndexID sql.NullInt32
}

func (q *Queries) UpdateMinuteManager(ctx context.Context, arg UpdateMinuteManagerParams) error {
	_, err := q.db.Exec(ctx, updateMinuteManager, arg.Dataarr, arg.IndexID)
	return err
}
